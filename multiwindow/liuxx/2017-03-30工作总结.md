## 今天工作内容

  - 简述
    - 学习阅读罗浩、包钧圳两位同学关于多窗口的论文
    - 分析Android单窗口与多窗口的区别，以及单窗口代码结构
    
## 单窗口代码结构实现分析
  
  - 在单窗口设计模式中,AMS 将 ActivityStack 分 为 两 个 , 一 个 是 HomeStack , 另 一 个 则 是 当 前 的AppStack,即每次只能显示一个Activity，具体的实现代码：
    
      for (int stackNdx = mStacks.size() - 1; stackNdx > 0; --stackNdx) {
      
          ActivityStack stack = mStacks.get(stackNdx);
          if (!stack.isHomeStack()) {
              if (DEBUG_FOCUS || DEBUG_STACK)
                  Slog.d(TAG, "adjustStackFocus: Setting focused stack=" + stack);
                  mFocusedStack = stack;
                  return mFocusedStack;
           }
       }
       
      //创建新的 ActivityStack,Homee_STACK_ID=0;
      int stackId =mService.createStack(-1, HOME_STACK_ID, StackBox.TASK_STACK_GOES_OVER, 1.0f);
      
      从上述关键代码可以得出,从栈顶进行遍历,只有遍历到栈底即HomeStack 时,才会跳出循环创建一个新的 ActivityStack,否则只要 stack 不是
HomeStack , 那 么 马上 将 ActivityStack 列表 中得到 的 stack 设为 当前的 焦 点
Stack 进行返回,所以 stack 的数量不可能超过2.

  - 多窗口代码实现（openthos为例）:
  
